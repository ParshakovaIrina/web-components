<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    const onLoad = (evt)=>{
        const element = document.createElement('my-select');

        const optionsData = [
            { value: "opt1", text: "Option 1" },
            { value: "opt2", text: "Option 2" },
            { value: "opt3", text: "Option 3" },
        ];

        optionsData.forEach(opt => {
            const optionEl = document.createElement('option');
            optionEl.value = opt.value;
            optionEl.textContent = opt.text;
            element.appendChild(optionEl);
        });

        document.body.appendChild(element);
    }

    const onError = (err)=>{
        console.error('Ощибка загрузки')
    }

    const components = ['my-select'];

    components.forEach(component=>{
        const script = document.createElement('script');
        script.src = `./${component}.js`;
        script.dataset.name = component;

        script.addEventListener('load', onLoad);
        script.addEventListener('error', onError);

        document.body.append(script);
    });
</script>
</body>
</html>